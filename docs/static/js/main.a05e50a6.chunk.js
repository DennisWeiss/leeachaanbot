(window["webpackJsonpdashboard-frontend"]=window["webpackJsonpdashboard-frontend"]||[]).push([[0],{188:function(e){e.exports=JSON.parse('{"en":{"locale":"en","Page":{"LEADERBOARDS":"Leaderboards","POINTS_LEADERBOARD":"Points Leaderboard","DONATION_LEADERBOARD":"Donation Leaderboard","BITS_LEADERBOARD":"Bits Leaderboard","ADMINISTRATION":"Administration","BOT_SETTINGS":"Bot Settings","CUSTOM_COMMANDS":"Custom Commands"},"PointsLeaderboard":{"TITLE":"Points Leaderboard","USER":"User"},"DonationLeaderboard":{"TITLE":"Donation Leaderboard","USER":"User","DONATION_AMOUNT":"Donation amount"},"BitsLeaderboard":{"TITLE":"Bits Leaderboard","USER":"User","BITS":"Bits"},"InsufficientPermissions":{"INSUFFICIENT_PERMISSIONS":"You don\'t have the required rights to access this!"},"LoggedInAsAdministrator":{"LOGGED_IN_AS_ADMINISTRATOR":"You have to be logged in as moderator or the streamer him/herself!"},"CustomCommandsPage":{"COMMAND_HANDLES":"Command handles","RESPONSE":"Response","SHOW_TWITCH_HANDLE":"Show Twitch handle","ADD_CUSTOM_COMMAND":"Add custom command"},"DeleteCustomCommandDialog":{"TITLE":"Delete custom command","DELETION_WARNING":"............","CANCEL":"Cancel","DELETE":"Delete"},"AddCustomCommandDialog":{"TITLE":"Add Custom Command","COMMAND_HANDLES":"Command handles","RESPONSE":"Response","SHOW_TWITCH_HANDLE":"Show Twitch handle (@username) before response","CANCEL":"Cancel","ADD_CUSTOM_COMMAND":"Add custom command","ADDED_CUSTOM_COMMAND_SUCCESSFULLY":"Added custom command successfully"},"EditCustomCommandDialog":{"TITLE":"Edit Custom Command","COMMAND_HANDLES":"Command handles","RESPONSE":"Response","SHOW_TWITCH_HANDLE":"Show Twitch handle (@username) before response","CANCEL":"Cancel","ADD_CUSTOM_COMMAND":"Edit custom command","EDITED_CUSTOM_COMMAND_SUCCESSFULLY":"Edited custom command successfully"},"UserLoggedInfo":{"LOGOUT":"Logout"},"LanguageSelector":{"EN_LONG":"English","DE_LONG":"German"}},"de":{"locale":"de","Page":{"LEADERBOARDS":"Bestenlisten","POINTS_LEADERBOARD":"Punkteliste","DONATION_LEADERBOARD":"Spendenliste","BITS_LEADERBOARD":"Bitsliste","ADMINISTRATION":"Administrierung","BOT_SETTINGS":"Bot Einstellungen","CUSTOM_COMMANDS":"Benutzerdefinierte Befehle"},"PointsLeaderboard":{"TITLE":"Punkteliste","USER":"Nutzer"},"DonationLeaderboard":{"TITLE":"Spendenliste","USER":"Nutzer","DONATION_AMOUNT":"Betrag"},"BitsLeaderboard":{"TITLE":"Bitsliste","USER":"Nutzer","BITS":"Bits"},"InsufficientPermissions":{"INSUFFICIENT_PERMISSIONS":"Du hast nicht die n\xf6tigen Rechte um hier zuzugreifen!"},"LoggedInAsAdministrator":{"LOGGED_IN_AS_ADMINISTRATOR":"Du musst als Moderator oder der/die Streamer*in eingeloggt sein."},"CustomCommandsPage":{"COMMAND_HANDLES":"Befehle","RESPONSE":"Antwort","SHOW_TWITCH_HANDLE":"Zeige Twitch Namen","ADD_CUSTOM_COMMAND":"Befehl hinzuf\xfcgen"},"DeleteCustomCommandDialog":{"TITLE":"L\xf6sche benutzerdefinierten Befehl","DELETION_WARNING":"............","CANCEL":"Abbrechen","DELETE":"L\xf6schen"},"AddCustomCommandDialog":{"TITLE":"Befehl hinzuf\xfcgen","COMMAND_HANDLES":"Befehle","RESPONSE":"Antwort","SHOW_TWITCH_HANDLE":"Zeige Twitch Namen (@username) vor Antwort","CANCEL":"Abbrechen","ADD_CUSTOM_COMMAND":"Befehl hinzuf\xfcgen","ADDED_CUSTOM_COMMAND_SUCCESSFULLY":"Befehl erfolgreich hinzugef\xfcgt"},"EditCustomCommandDialog":{"TITLE":"Befehl bearbeiten","COMMAND_HANDLES":"Befehle","RESPONSE":"Antwort","SHOW_TWITCH_HANDLE":"Zeige Twitch Namen (@username) vor Antwort","CANCEL":"Abbrechen","ADD_CUSTOM_COMMAND":"Befehl bearbeiten","EDITED_CUSTOM_COMMAND_SUCCESSFULLY":"Befehl erfolgreich bearbeitet"},"UserLoggedInfo":{"LOGOUT":"Abmelden"},"LanguageSelector":{"EN_LONG":"Englisch","DE_LONG":"Deutsch"}}}')},204:function(e,t,a){e.exports=a(336)},209:function(e,t,a){},210:function(e,t,a){},221:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},314:function(e,t,a){},336:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(5),l=a.n(r),s=(a(209),a(16)),c=a(14),i=a(19),m=a(20),d=a(21),u=(a(210),a(113)),h=a(9),E=a(375),p=a(342),O=a(383),g=a(384),C=a(385),b=a(386),S=a(373),f=a(387),D=a(390),N=a(394),T=a(187),A=a.n(T),v=a(186),I=a.n(v),L=a(182),_=a(30),y=a(17),k=a(184),w=a.n(k),M=a(183),j=a.n(M),R=a(185),B=a.n(R),P=a(50),U=a(72),H=a(103),x=a(368),z=a(369),G=a(370),W=a(371),F=a(372),Y=(a(221),a(39)),J=a.n(Y),Z=a(34),q=a(48),$=a.n(q),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={leaderboard:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;J.a.get("".concat(Z.leaderboardEndpoint,"/points")).then((function(t){t.data&&e.setState({leaderboard:t.data||[]})}))}},{key:"render",value:function(){var e=this.props.t;return o.a.createElement("div",{className:"pointsLeaderboard"},o.a.createElement("h2",null,e("TITLE")),o.a.createElement(H.a,{className:"tablePaper"},o.a.createElement(x.a,null,o.a.createElement(z.a,null,o.a.createElement(G.a,null,o.a.createElement(W.a,{className:"positionCell"}),o.a.createElement(W.a,null,e("USER")),o.a.createElement(W.a,{align:"right"},"Dangos"))),o.a.createElement(F.a,null,this.state.leaderboard.map((function(e){return o.a.createElement(G.a,{key:e.username},o.a.createElement(W.a,{className:"positionCell"},e.position,"."),o.a.createElement(W.a,null,o.a.createElement("div",{className:"userEntry"},o.a.createElement("img",{style:{marginRight:10},src:e.profilePicture,width:32}),o.a.createElement("a",{href:"https://twitch.tv/".concat(e.username)},e.username))),o.a.createElement(W.a,{align:"right"},$()(e.points).format()))}))))))}}]),t}(o.a.Component),Q=Object(y.translate)("PointsLeaderboard")(K),V=(a(240),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={leaderboard:{},donationCurrency:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e="leeachaan",J.a.get("https://www.tipeeestream.com/v2.0/users/".concat(e,"/leaderboard?start=1970-01-01"))).then((function(e){e.data&&e.data.datas&&e.data.datas.result&&t.setState({leaderboard:e.data.datas.result})})),J.a.get("".concat(Z.configEndpoint,"/current")).then((function(e){console.log(e.data),t.setState({donationCurrency:e.data.donationCurrency})}))}},{key:"render",value:function(){var e=this,t=this.props.t;return o.a.createElement("div",{className:"donationLeaderboard"},o.a.createElement("h2",null,t("TITLE")),o.a.createElement(H.a,{className:"tablePaper"},o.a.createElement(x.a,null,o.a.createElement(z.a,null,o.a.createElement(G.a,null,o.a.createElement(W.a,{className:"positionCell"}),o.a.createElement(W.a,null,t("USER")),o.a.createElement(W.a,{align:"right"},t("DONATION_AMOUNT")))),o.a.createElement(F.a,null,Object.entries(this.state.leaderboard).map((function(t){var a=Object(u.a)(t,2),n=a[0],r=a[1];return o.a.createElement(G.a,{key:r.username},o.a.createElement(W.a,{className:"positionCell"},parseInt(n)+1,"."),o.a.createElement(W.a,null,o.a.createElement("div",{className:"userEntry"},r.username)),o.a.createElement(W.a,{align:"right"},$()(r.amount).format("0,000.00")," ",e.state.donationCurrency))}))))))}}]),t}(o.a.Component)),X=Object(y.translate)("DonationLeaderboard")(V),ee=(a(241),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={leaderboard:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;J.a.get("".concat(Z.leaderboardEndpoint,"/bits")).then((function(t){t.data&&e.setState({leaderboard:t.data})}))}},{key:"render",value:function(){var e=this.props.t;return o.a.createElement("div",{className:"bitsLeaderboard"},o.a.createElement("h2",null,e("TITLE")),o.a.createElement(H.a,{className:"tablePaper"},o.a.createElement(x.a,null,o.a.createElement(z.a,null,o.a.createElement(G.a,null,o.a.createElement(W.a,{className:"positionCell"}),o.a.createElement(W.a,null,e("USER")),o.a.createElement(W.a,{align:"right"},e("BITS")))),o.a.createElement(F.a,null,this.state.leaderboard.map((function(e){return o.a.createElement(G.a,{key:e.username},o.a.createElement(W.a,{className:"positionCell"},e.position,"."),o.a.createElement(W.a,null,o.a.createElement("div",{className:"userEntry"},o.a.createElement("img",{style:{marginRight:10},src:e.profilePicture,width:32}),o.a.createElement("a",{href:"https://twitch.tv/".concat(e.username)},e.username))),o.a.createElement(W.a,{align:"right"},$()(e.points).format()))}))))))}}]),t}(o.a.Component)),te=Object(y.translate)("BitsLeaderboard")(ee),ae=(a(242),a(170)),ne=a(189),oe=(Object(ne.a)(),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"twitchLoginButton",onClick:function(){return window.location="https://id.twitch.tv/oauth2/authorize?client_id=".concat(Z.clientId,"&redirect_uri=").concat(Z.hostUri,"&response_type=token")}},o.a.createElement(P.a,{icon:ae.a,size:"lg"}),o.a.createElement("span",{className:"loginText"},"Login with Twitch"))}}]),t}(o.a.Component)),re=(a(243),a(374)),le=a(377),se=a(172),ce=a.n(se),ie=a(393),me=a(376),de=a(171),ue=a.n(de),he=(a(244),["en","de"]),Ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null,menuOpen:!1},a.handleLanguageSelect=function(e){return function(){a.props.changeLocale(e),a.setState({menuOpen:!1})}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleLangSelectClick",value:function(e){this.setState({anchorEl:e.currentTarget,menuOpen:!0})}},{key:"handleMenuClose",value:function(){this.setState({menuOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=t.t,n=t.locale;t.changeLocale;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"languageSelector"},o.a.createElement("div",null,o.a.createElement(S.a,{onClick:this.handleLangSelectClick.bind(this)},o.a.createElement(ue.a,{color:"white",className:"languageIcon"}))),o.a.createElement("div",null,n.toUpperCase())),o.a.createElement(ie.a,{anchorEl:this.state.anchorEl,open:this.state.menuOpen,onClose:this.handleMenuClose.bind(this)},he.map((function(t){return o.a.createElement(me.a,{onClick:e.handleLanguageSelect(t).bind(e)},t.toUpperCase()," - ",a("".concat(t.toUpperCase(),"_LONG")))}))))}}]),t}(o.a.Component),pe=Object(y.translate)("LanguageSelector")(Ee),Oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={popoverOpen:!1,anchorEl:null,pointsScore:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.loggedInUser.id,J.a.get("".concat(Z.pointsEndpoint,"/user/").concat(e))).then((function(e){e.data&&t.setState({pointsScore:e.data})}))}},{key:"openPopover",value:function(e){this.setState({popoverOpen:!0,anchorEl:e.target})}},{key:"closePopover",value:function(){this.setState({popoverOpen:!1})}},{key:"logout",value:function(){localStorage.removeItem("accessToken"),window.location=Z.hostUri}},{key:"render",value:function(){var e,t,a,n=this.props,r=n.t,l=n.loggedInUser;return l?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"userLoggedInfo",onClick:this.openPopover.bind(this)},o.a.createElement("img",{src:l.profile_image_url,width:32,className:"profileImage"})),o.a.createElement(re.a,{open:this.state.popoverOpen,onClose:this.closePopover.bind(this),anchorEl:this.state.anchorEl,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},o.a.createElement("div",{className:"userLoggedInfoExpanded"},o.a.createElement("img",{src:l.profile_image_url,width:45,className:"profileImage"}),l.display_name),o.a.createElement("div",{className:"pointsScoreDisplay"},this.state.pointsScore&&o.a.createElement("div",null,(e=this.state.pointsScore.points,t=this.state.pointsScore.currencyNameSingular,a=this.state.pointsScore.currencyNamePlural,"".concat($()(e).format()," ").concat(1===e?t:a)))),o.a.createElement("div",{className:"logoutButton"},o.a.createElement(le.a,{onClick:this.logout.bind(this)},o.a.createElement(ce.a,null),r("LOGOUT"))))):o.a.createElement("div",null)}}]),t}(o.a.Component),ge=Object(y.translate)("UserLoggedInfo")(Oe),Ce=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"Bot Settings")}}]),t}(o.a.Component),be=Object(y.translate)("InsufficientPermissions")((function(e){var t=e.t;return o.a.createElement("div",null,t("INSUFFICIENT_PERMISSIONS"))})),Se=Object(y.translate)("LoggedInAsAdministrator")((function(e){var t=e.t;return o.a.createElement("div",null,t("LOGGED_IN_AS_ADMINISTRATOR"))})),fe=(a(245),a(378)),De=a(379),Ne=a(380),Te=a(381),Ae=a(382),ve=a(61),Ie=a.n(ve),Le=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleClose",value:function(){this.props.setOpen(!1)}},{key:"handleDelete",value:function(){var e=this,t=Ie.a.parse(window.location.hash).access_token;t||(t=localStorage.getItem("accessToken")),t&&(localStorage.setItem("accessToken",t),function(e,t){return J.a.delete("".concat(Z.customCommandEndpoint,"/delete/").concat(e),{headers:{Authorization:t}})}(this.props.customCommandId,t).then((function(t){200===t.status&&(e.props.setOpen(!1),e.props.reload())})))}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.open;return o.a.createElement(fe.a,{open:a,onClose:this.handleClose.bind(this)},o.a.createElement(De.a,null,t("TITLE")),o.a.createElement(Ne.a,null,o.a.createElement(Te.a,null,t("DELETION_WARNING")),o.a.createElement(Ae.a,null,o.a.createElement(le.a,{onClick:this.handleClose.bind(this),color:"secondary"},t("CANCEL")),o.a.createElement(le.a,{onClick:this.handleDelete.bind(this),color:"error"},t("DELETE")))))}}]),t}(o.a.Component),_e=Object(y.translate)("DeleteCustomCommandDialog")(Le),ye=a(392),ke=a(110),we=a.n(ke),Me=a(389),je=a(388),Re=a(391);function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ue=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={customCommand:{commandHandles:[],response:"",showTwitchHandle:!0},snackbarOpen:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleCommandHandlesChange",value:function(e){var t=Pe({},this.state.customCommand);t.commandHandles=e.map((function(e){return"!"===e[0]?e:"!"+e})),this.setState({customCommand:t})}},{key:"handleClose",value:function(){this.props.setOpen(!1)}},{key:"handleSubmit",value:function(){var e=this,t=Pe({},this.state.customCommand);t.commandHandles=t.commandHandles.map((function(e){return e.substr(1,e.length)}));var a=Ie.a.parse(window.location.hash).access_token;a||(a=localStorage.getItem("accessToken")),a&&(localStorage.setItem("accessToken",a),function(e,t){return J.a.post("".concat(Z.customCommandEndpoint,"/add"),e,{headers:{Authorization:t}})}(t,a).then((function(t){200===t.status&&(e.handleClose(),e.openSuccessSnackbar(),e.props.reload())})))}},{key:"handleResponseChange",value:function(e){var t=Pe({},this.state.customCommand);t.response=e.target.value,this.setState({customCommand:t})}},{key:"handleShowTwitchHandleChange",value:function(e){var t=Pe({},this.state.customCommand);t.showTwitchHandle=e.target.checked,this.setState({customCommand:t})}},{key:"handleSnackbarClose",value:function(){this.setState({snackbarOpen:!1})}},{key:"openSuccessSnackbar",value:function(){this.setState({snackbarOpen:!0})}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.open;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ye.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpen,autoHideDuration:6e3,onClose:this.handleSnackbarClose.bind(this),ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",null,t("ADDED_CUSTOM_COMMAND_SUCCESSFULLY")),action:[o.a.createElement(S.a,{key:"close","aria-label":"close",color:"inherit",onClick:this.handleSnackbarClose.bind(this)},o.a.createElement(we.a,null))]}),o.a.createElement(fe.a,{open:a,onClose:this.handleClose.bind(this)},o.a.createElement(De.a,null,t("TITLE")),o.a.createElement(Ne.a,null,o.a.createElement(Me.a,{mode:"tags",style:{width:"100%",margin:"6px 0"},placeholder:t("COMMAND_HANDLES"),onChange:this.handleCommandHandlesChange.bind(this),tokenSeparators:[","," "],value:this.state.customCommand.commandHandles}),o.a.createElement(je.a.TextArea,{placeholder:t("RESPONSE"),rows:3,style:{margin:"6px 0"},onChange:this.handleResponseChange.bind(this)}),o.a.createElement(Re.a,{checked:this.state.customCommand.showTwitchHandle,onChange:this.handleShowTwitchHandleChange.bind(this),style:{margin:"6px 0"}},t("SHOW_TWITCH_HANDLE")),o.a.createElement(Ae.a,null,o.a.createElement(le.a,{onClick:this.handleClose.bind(this)},t("CANCEL")),o.a.createElement(le.a,{onClick:this.handleSubmit.bind(this),color:"primary"},t("ADD_CUSTOM_COMMAND"))))))}}]),t}(o.a.Component),He=Object(y.translate)("AddCustomCommandDialog")(Ue),xe=a(181),ze=a.n(xe);function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ge(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={customCommand:{}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){if(!ze()(e,this.props)&&this.props.customCommand&&this.props.customCommand.commandHandles){var n=We({},this.props.customCommand);n.commandHandles=n.commandHandles.map((function(e){return"!"+e})),this.setState({customCommand:n})}}},{key:"handleCommandHandlesChange",value:function(e){var t=We({},this.state.customCommand);t.commandHandles=e.map((function(e){return"!"===e[0]?e:"!"+e})),this.setState({customCommand:t})}},{key:"handleClose",value:function(){this.props.setOpen(!1)}},{key:"handleSubmit",value:function(){var e=this,t=We({},this.state.customCommand);t.commandHandles=t.commandHandles.map((function(e){return e.substr(1,e.length)}));var a=Ie.a.parse(window.location.hash).access_token;a||(a=localStorage.getItem("accessToken")),a&&(localStorage.setItem("accessToken",a),console.log("accessToken",a),function(e,t){return J.a.post("".concat(Z.customCommandEndpoint,"/update"),e,{headers:{Authorization:t}})}(t,a).then((function(t){200===t.status&&(e.handleClose(),e.openSuccessSnackbar(),e.props.reload())})))}},{key:"handleResponseChange",value:function(e){var t=We({},this.state.customCommand);t.response=e.target.value,this.setState({customCommand:t})}},{key:"handleShowTwitchHandleChange",value:function(e){var t=We({},this.state.customCommand);t.showTwitchHandle=e.target.checked,this.setState({customCommand:t})}},{key:"handleSnackbarClose",value:function(){this.setState({snackbarOpen:!1})}},{key:"openSuccessSnackbar",value:function(){this.setState({snackbarOpen:!0})}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.open;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ye.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpen,autoHideDuration:6e3,onClose:this.handleSnackbarClose.bind(this),ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",null,t("EDITED_CUSTOM_COMMAND_SUCCESSFULLY")),action:[o.a.createElement(S.a,{key:"close","aria-label":"close",color:"inherit",onClick:this.handleSnackbarClose.bind(this)},o.a.createElement(we.a,null))]}),o.a.createElement(fe.a,{open:a,onClose:this.handleClose.bind(this)},o.a.createElement(De.a,null,t("TITLE")),o.a.createElement(Ne.a,null,o.a.createElement(Me.a,{mode:"tags",style:{width:"100%",margin:"6px 0"},placeholder:t("COMMAND_HANDLES"),onChange:this.handleCommandHandlesChange.bind(this),tokenSeparators:[","," "],value:this.state.customCommand.commandHandles}),o.a.createElement(je.a.TextArea,{value:this.state.customCommand.response,placeholder:t("RESPONSE"),rows:3,style:{margin:"6px 0"},onChange:this.handleResponseChange.bind(this)}),o.a.createElement(Re.a,{checked:this.state.customCommand.showTwitchHandle,onChange:this.handleShowTwitchHandleChange.bind(this),style:{margin:"6px 0"}},t("SHOW_TWITCH_HANDLE")),o.a.createElement(Ae.a,null,o.a.createElement(le.a,{onClick:this.handleClose.bind(this)},t("CANCEL")),o.a.createElement(le.a,{onClick:this.handleSubmit.bind(this),color:"primary"},t("ADD_CUSTOM_COMMAND"))))))}}]),t}(o.a.Component),Ye=Object(y.translate)("EditCustomCommandDialog")(Fe),Je=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={customCommands:[],customCommandToEdit:{},deleteDialogOpen:!1,addDialogOpen:!1,editDialogOpen:!1,customCommandId:null},a.setDeleteDialogOpen=function(e){return a.setState({deleteDialogOpen:e})},a.setAddDialogOpen=function(e){return a.setState({addDialogOpen:e})},a.setEditDialogOpen=function(e){return a.setState({editDialogOpen:e})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.reload()}},{key:"reload",value:function(){var e=this;J.a.get("".concat(Z.customCommandEndpoint,"/all")).then((function(t){t.data&&e.setState({customCommands:t.data})}))}},{key:"editCustomCommand",value:function(e){var t=this.state.customCommands.find((function(t){return t._id===e}));t&&this.setState({customCommandToEdit:t,editDialogOpen:!0})}},{key:"deleteCustomCommand",value:function(e){this.setState({deleteDialogOpen:!0,customCommandId:e})}},{key:"render",value:function(){var e=this,t=this.props.t;return o.a.createElement(o.a.Fragment,null,o.a.createElement(He,{open:this.state.addDialogOpen,setOpen:this.setAddDialogOpen.bind(this),reload:this.reload.bind(this)}),o.a.createElement(Ye,{customCommand:this.state.customCommandToEdit,open:this.state.editDialogOpen,setOpen:this.setEditDialogOpen.bind(this),reload:this.reload.bind(this)}),o.a.createElement(_e,{open:this.state.deleteDialogOpen,setOpen:this.setDeleteDialogOpen.bind(this),reload:this.reload.bind(this),customCommandId:this.state.customCommandId}),o.a.createElement(le.a,{variant:"contained",color:"primary",style:{marginBottom:15},onClick:function(){return e.setAddDialogOpen(!0)}},o.a.createElement("span",{className:"addCustomCommandButtonIcon"},o.a.createElement(P.a,{icon:U.c})),t("ADD_CUSTOM_COMMAND")),o.a.createElement("div",null,o.a.createElement(H.a,null,o.a.createElement(x.a,null,o.a.createElement(z.a,null,o.a.createElement(G.a,null,o.a.createElement(W.a,null,t("COMMAND_HANDLES")),o.a.createElement(W.a,null,t("RESPONSE")),o.a.createElement(W.a,null,t("SHOW_TWITCH_HANDLE")),o.a.createElement(W.a,{align:"right"}))),o.a.createElement(F.a,null,this.state.customCommands.map((function(t){return o.a.createElement(G.a,{key:t._id},o.a.createElement(W.a,null,t.commandHandles.map((function(e){return"!".concat(e)})).join(", ")),o.a.createElement(W.a,null,t.response),o.a.createElement(W.a,null,t.showTwitchHandle&&o.a.createElement("span",{className:"showTwitchHandleIcon"},o.a.createElement(P.a,{icon:U.a}))),o.a.createElement(W.a,{align:"right"},o.a.createElement("div",{className:"actionItems"},o.a.createElement("div",{className:"editIcon",onClick:function(){return e.editCustomCommand(t._id)}},o.a.createElement(P.a,{icon:U.b,size:"md"})),o.a.createElement("div",{className:"deleteIcon",onClick:function(){return e.deleteCustomCommand(t._id)}},o.a.createElement(P.a,{icon:U.e,size:"md"})))))})))))))}}]),t}(o.a.Component),Ze=Object(y.translate)("CustomCommandsPage")(Je),qe=o.a.createContext(),$e=(a(314),Object(L.a)((function(e){var t,a;return{root:{display:"flex"},drawer:(t={},Object(h.a)(t,e.breakpoints.up("sm"),{width:240,flexShrink:0}),Object(h.a)(t,"zIndex",4),t),appBar:(a={marginLeft:240},Object(h.a)(a,e.breakpoints.up("sm"),{width:"100%"}),Object(h.a)(a,"textColor","white"),Object(h.a)(a,"zIndex",5),a),menuButton:Object(h.a)({marginRight:5},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240,padding:10},content:{flexGrow:1,padding:e.spacing(3)},multiListItemIcon:{minWidth:0}}}))),Ke=Object(y.translate)("Page")((function(e){var t=e.t,a=e.selectPage,n=e.selectedPage,r=e.loggedInUser,l=e.locale,s=e.changeLocale,c=$e(),i=Object(_.a)(),m=o.a.useState(!1),d=Object(u.a)(m,2),h=d[0],T=d[1],v=function(){T(!h)},L=o.a.createElement("div",null,o.a.createElement("div",{className:c.toolbar}),o.a.createElement(E.a,{subheader:t("LEADERBOARDS")},o.a.createElement(p.a,{button:!0,key:"POINTS_LEADERBOARD",onClick:function(){return a("POINTS_LEADERBOARD")}},o.a.createElement(O.a,{className:c.multiListItemIcon},o.a.createElement(j.a,null)),o.a.createElement(g.a,{primary:t("POINTS_LEADERBOARD")})),o.a.createElement(p.a,{button:!0,key:"DONATION_LEADERBOARD",onClick:function(){return a("DONATION_LEADERBOARD")}},o.a.createElement(O.a,{className:c.multiListItemIcon},o.a.createElement(w.a,null)),o.a.createElement(g.a,{primary:t("DONATION_LEADERBOARD")})),o.a.createElement(p.a,{button:!0,key:"BITS_LEADERBOARD",onClick:function(){return a("BITS_LEADERBOARD")}},o.a.createElement(O.a,{className:c.multiListItemIcon},o.a.createElement("svg",{className:"tw-icon__svg",width:"24px",height:"24px",version:"1.1",viewBox:"0 0 20 20",x:"0px",y:"0px"},o.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 12l7-10 7 10-7 6-7-6zm2.678-.338L10 5.487l4.322 6.173-.85.728L10 11l-3.473 1.39-.849-.729z"}))),o.a.createElement(g.a,{primary:t("BITS_LEADERBOARD")}))),o.a.createElement(C.a,null),o.a.createElement(E.a,{subheader:t("ADMINISTRATION")},o.a.createElement(p.a,{button:!0,key:"BOT_SETTINGS",onClick:function(){return a("BOT_SETTINGS")}},o.a.createElement(O.a,{className:c.multiListItemIcon},o.a.createElement("span",{style:{marginRight:5}},o.a.createElement(P.a,{icon:U.d}))),o.a.createElement(g.a,{primary:t("BOT_SETTINGS")})),o.a.createElement(p.a,{button:!0,key:"CUSTOM_COMMANDS",onClick:function(){return a("CUSTOM_COMMANDS")}},o.a.createElement(O.a,{className:c.multiListItemIcon},o.a.createElement(B.a,null)),o.a.createElement(g.a,{primary:t("CUSTOM_COMMANDS")}))));return o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{position:"fixed",className:c.appBar},o.a.createElement(b.a,null,o.a.createElement(S.a,{className:c.menuButton,color:"inherit"},o.a.createElement(A.a,{onClick:v})),o.a.createElement("span",{style:{marginRight:10}},o.a.createElement("img",{src:"leea-emote-128.png",width:32})),o.a.createElement("h3",{className:"appTitle"},"LeeaChaanBot Dashboard"),o.a.createElement("div",{className:"languageSelectorDiv"},o.a.createElement(pe,{locale:l,changeLocale:s})),!r&&o.a.createElement(oe,null),r&&o.a.createElement(ge,{loggedInUser:r}))),o.a.createElement("div",{className:c.root},o.a.createElement(f.a,null),o.a.createElement("nav",{className:c.drawer},o.a.createElement(D.a,{smUp:!0,implementation:"css"},o.a.createElement(N.a,{variant:"temporary",anchor:"rtl"===i.direction?"right":"left",open:h,onClose:v,classes:{paper:c.drawerPaper},ModalProps:{keepMounted:!0}},L)),o.a.createElement(D.a,{xsDown:!0,implementation:"css"},o.a.createElement(N.a,{open:!0,variant:"permanent",classes:{paper:c.drawerPaper}},L))),o.a.createElement("main",{className:c.content},o.a.createElement("div",{className:c.toolbar}),o.a.createElement(qe.Consumer,null,(function(e){return o.a.createElement(o.a.Fragment,null,"POINTS_LEADERBOARD"===n&&o.a.createElement(Q,null),"DONATION_LEADERBOARD"===n&&o.a.createElement(X,null),"BITS_LEADERBOARD"===n&&o.a.createElement(te,null),"BOT_SETTINGS"===n&&r&&e&&o.a.createElement(Ce,null),"BOT_SETTINGS"===n&&r&&!e&&o.a.createElement(be,null),"BOT_SETTINGS"===n&&!r&&o.a.createElement(Se,null),"CUSTOM_COMMANDS"===n&&r&&e&&o.a.createElement(Ze,null),"CUSTOM_COMMANDS"===n&&r&&!e&&o.a.createElement(be,null),"CUSTOM_COMMANDS"===n&&!r&&o.a.createElement(Se,null))})))))})),Qe=a(188),Ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).selectPage=function(e){return a.setState({selectedPage:e})},a.changeLocale=function(e){return a.setState({locale:e})},a.state={locale:"en",selectedPage:"POINTS_LEADERBOARD",loggedInUser:null,hasAdministrationRights:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Ie.a.parse(window.location.hash).access_token;t||(t=localStorage.getItem("accessToken")),t&&(localStorage.setItem("accessToken",t),function(e){return J.a.get("https://api.twitch.tv/helix/users",{headers:{Authorization:"Bearer ".concat(e)}})}(t).then((function(t){t.data&&t.data.data&&t.data.data.length>0?e.setState({loggedInUser:t.data.data[0]}):localStorage.removeItem("accessToken")})).catch((function(e){return localStorage.removeItem("accessToken")})),function(e){return J.a.post("".concat(Z.permissionsEndpoint,"/administration"),null,{headers:{Authorization:e}})}(t).then((function(t){t.data&&e.setState({hasAdministrationRights:t.data.hasRights})})))}},{key:"render",value:function(){return console.log(this.state.loggedInUser),o.a.createElement(y.TranslatorProvider,{translations:Qe[this.state.locale]},o.a.createElement(qe.Provider,{value:this.state.hasAdministrationRights},o.a.createElement(Ke,{selectedPage:this.state.selectedPage,selectPage:this.selectPage.bind(this),loggedInUser:this.state.loggedInUser,locale:this.state.locale,changeLocale:this.changeLocale.bind(this)})))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(335);l.a.render(o.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},34:function(e){e.exports=JSON.parse('{"leaderboardEndpoint":"https://gr-esports.de:11002/leaderboard","configEndpoint":"https://gr-esports.de:11002/config","customCommandEndpoint":"https://gr-esports.de:11002/customcommands","permissionsEndpoint":"https://gr-esports.de:11002/permissions","pointsEndpoint":"https://gr-esports.de:11002/points","clientId":"w2wiz22s7vnnxi03f7qyt3dbal8mlj","hostUri":"https://dennisweiss.github.io/leeachaanbot/"}')}},[[204,1,2]]]);
//# sourceMappingURL=main.a05e50a6.chunk.js.map